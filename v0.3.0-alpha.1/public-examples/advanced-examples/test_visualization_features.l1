// Test file for Advanced Visualization Features (R13)
// This file tests all visualization capabilities in LangOne

println("=== LangOne Advanced Visualization Features Test ===");

// Test 1: Visualization Engine Initialization
println("Test 1: Visualization Engine Initialization");
let viz_engine = viz_engine();
println("Viz engine result: " + to_string(viz_engine));

// Test 2: Line Chart Creation
println("Test 2: Line Chart Creation");
let x_data = [1.0, 2.0, 3.0, 4.0, 5.0];
let y_data = [2.0, 4.0, 6.0, 8.0, 10.0];
let line_chart = create_line_chart(x_data, y_data);
println("Line chart result: " + to_string(line_chart));

// Test 3: Bar Chart Creation
println("Test 3: Bar Chart Creation");
let categories = [1.0, 2.0, 3.0, 4.0, 5.0];
let values = [10.0, 20.0, 15.0, 25.0, 30.0];
let bar_chart = create_bar_chart(categories, values);
println("Bar chart result: " + to_string(bar_chart));

// Test 4: Scatter Plot Creation
println("Test 4: Scatter Plot Creation");
let scatter_x = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0];
let scatter_y = [2.1, 4.2, 6.1, 8.3, 10.2, 12.1, 14.3, 16.2, 18.1, 20.3];
let scatter_plot = create_scatter_plot(scatter_x, scatter_y);
println("Scatter plot result: " + to_string(scatter_plot));

// Test 5: Pie Chart Creation
println("Test 5: Pie Chart Creation");
let pie_data = [30.0, 25.0, 20.0, 15.0, 10.0];
let pie_labels = ["Category A", "Category B", "Category C", "Category D", "Category E"];
let pie_chart = create_pie_chart(pie_data, pie_labels);
println("Pie chart result: " + to_string(pie_chart));

// Test 6: Histogram Creation
println("Test 6: Histogram Creation");
let hist_data = [1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0, 6.5, 7.0, 7.5, 8.0];
let bins = 5;
let histogram = create_histogram(hist_data, bins);
println("Histogram result: " + to_string(histogram));

// Test 7: Heatmap Creation
println("Test 7: Heatmap Creation");
let heatmap_data = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0];
let width = 3;
let height = 3;
let heatmap = create_heatmap(heatmap_data, width, height);
println("Heatmap result: " + to_string(heatmap));

// Test 8: 3D Plot Creation
println("Test 8: 3D Plot Creation");
let x_3d = [1.0, 2.0, 3.0, 4.0, 5.0];
let y_3d = [1.0, 2.0, 3.0, 4.0, 5.0];
let z_3d = [1.0, 4.0, 9.0, 16.0, 25.0];
let plot_3d = create_3d_plot(x_3d, y_3d, z_3d);
println("3D plot result: " + to_string(plot_3d));

// Test 9: Dashboard Creation
println("Test 9: Dashboard Creation");
let dashboard_name = "Analytics Dashboard";
let layout_type = "grid";
let dashboard = create_dashboard(dashboard_name, layout_type);
println("Dashboard result: " + to_string(dashboard));

// Test 10: Chart Export
println("Test 10: Chart Export");
let chart_id = "chart_1";
let export_format = "png";
let filename = "test_chart.png";
let export_result = export_chart(chart_id, export_format, filename);
println("Export result: " + to_string(export_result));

// Test 11: Chart Rendering
println("Test 11: Chart Rendering");
let render_result = render_chart(chart_id);
println("Render result: " + to_string(render_result));

// Test 12: Error Handling - Invalid Arguments
println("Test 12: Error Handling - Invalid Arguments");
try {
    let invalid_chart = create_line_chart([1.0, 2.0]); // Missing y_data
    println("Error: Should have failed");
} catch (error) {
    println("Caught expected error: " + to_string(error));
}

// Test 13: Error Handling - Wrong Data Types
println("Test 13: Error Handling - Wrong Data Types");
try {
    let invalid_chart = create_line_chart("not_an_array", [1.0, 2.0]);
    println("Error: Should have failed");
} catch (error) {
    println("Caught expected error: " + to_string(error));
}

// Test 14: Integration with Other Features
println("Test 14: Integration with Other Features");
// Create data using array functions
let data_range = arange(0, 10, 1);
let sin_data = sin(data_range);
let cos_data = cos(data_range);

// Create charts with generated data
let sin_chart = create_line_chart(data_range, sin_data);
let cos_chart = create_line_chart(data_range, cos_data);

println("Sin chart: " + to_string(sin_chart));
println("Cos chart: " + to_string(cos_chart));

// Test 15: Performance Test
println("Test 15: Performance Test");
let start_time = 0; // Placeholder for timing
let large_data = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0];
let large_chart = create_line_chart(large_data, large_data);
let end_time = 0; // Placeholder for timing

println("Large chart created: " + to_string(large_chart));

// Test 16: Multiple Chart Types
println("Test 16: Multiple Chart Types");
let test_data = [1.0, 2.0, 3.0, 4.0, 5.0];
let test_labels = ["A", "B", "C", "D", "E"];

let chart1 = create_line_chart(test_data, test_data);
let chart2 = create_bar_chart(test_data, test_data);
let chart3 = create_scatter_plot(test_data, test_data);
let chart4 = create_pie_chart(test_data, test_labels);
let chart5 = create_histogram(test_data, 3);

println("Multiple charts created successfully");
println("Chart 1: " + to_string(chart1));
println("Chart 2: " + to_string(chart2));
println("Chart 3: " + to_string(chart3));
println("Chart 4: " + to_string(chart4));
println("Chart 5: " + to_string(chart5));

// Test 17: Export Different Formats
println("Test 17: Export Different Formats");
let export_formats = ["png", "jpeg", "svg", "pdf", "html"];
let i = 0;
while (i < len(export_formats)) {
    let format = export_formats[i];
    let export_file = "test_chart." + format;
    let export_result = export_chart("chart_1", format, export_file);
    println("Exported to " + format + ": " + to_string(export_result));
    i = i + 1;
}

// Test 18: Dashboard Integration
println("Test 18: Dashboard Integration");
let main_dashboard = create_dashboard("Main Dashboard", "grid");
let analytics_dashboard = create_dashboard("Analytics Dashboard", "flex");
let monitoring_dashboard = create_dashboard("Monitoring Dashboard", "custom");

println("Main dashboard: " + to_string(main_dashboard));
println("Analytics dashboard: " + to_string(analytics_dashboard));
println("Monitoring dashboard: " + to_string(monitoring_dashboard));

// Test 19: 3D Visualization
println("Test 19: 3D Visualization");
let x_3d_large = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0];
let y_3d_large = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0];
let z_3d_large = [1.0, 4.0, 9.0, 16.0, 25.0, 36.0, 49.0, 64.0, 81.0, 100.0];

let surface_plot = create_3d_plot(x_3d_large, y_3d_large, z_3d_large);
println("3D surface plot: " + to_string(surface_plot));

// Test 20: Real-time Visualization
println("Test 20: Real-time Visualization");
let realtime_data = [1.0, 2.0, 3.0, 4.0, 5.0];
let realtime_chart = create_line_chart(realtime_data, realtime_data);
let realtime_render = render_chart(realtime_chart);
println("Real-time chart rendered: " + to_string(realtime_render));

println("=== Advanced Visualization Features Test Completed ===");
println("All visualization features tested successfully!");
